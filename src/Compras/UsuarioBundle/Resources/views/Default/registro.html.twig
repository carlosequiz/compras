{% extends '::frontend.html.twig' %}

{% block id 'usuario' %}
{% block title %}Regístrate gratis como usuario{% endblock %}

{% block navbar %}
    {% include 'CompraBundle:Default:navbarFixed.html.twig' %}
{% endblock %}

{% block article %}
<div>
    </br>
</div>
<h1>{{ block('title') }}</h1>

<form class="form-horizontal" action="{{ path('usuario_registro') }}" method="post" {{ form_enctype(formulario) }}>
    <div>
    {{ form_errors(formulario) }}

    <div class="form-group">
        <label class="col-lg-2 control-label">Nombre:</label>
        {{ form_errors(formulario.nombre) }}
        <div class="col-lg-5">
            {{ form_widget(formulario.nombre, { 'attr': { 'class': 'form-control' } }) }}
        </div>
    </div>

    <div class="form-group">
        <label class="col-lg-2 control-label">Apellidos:</label>
        {{ form_errors(formulario.apellidos) }}
        <div class="col-lg-5">
            {{ form_widget(formulario.apellidos, { 'attr': { 'class': 'form-control' } }) }}
        </div>
    </div>

    <div class="form-group">
        <label class="col-lg-2 control-label">Email:</label>
        {{ form_errors(formulario.email) }}
        <div class="col-lg-5">
            {{ form_widget(formulario.email, { 'attr': { 'class': 'form-control' } }) }}
        </div>
    </div>
    
    <div class="form-group {% if formulario.password.first.vars.errors %}has-error{% endif %}">
        <label class="col-lg-2 control-label">Contraseña:</label>
        <div class="col-lg-5">
            {{ form_widget(formulario.password.first, {'attr': {'class': 'form-control', 'placeholder': 'Contraseña', 'required': 'required'}}) }}
            {% for errorItem in formulario.password.first.vars.errors %}
              <label class="control-label has-error" for="{{ formulario.password.vars.id }}">{{ errorItem.message }}</label>
            {% endfor %}
        </div>
        <div class="col-lg-5">
            {{ form_widget(formulario.password.second, {'attr': {'class': 'form-control', 'placeholder': 'Repetir Contraseña', 'required': 'required'}}) }}
        </div>
    </div>

    <div class="form-group">
        <label class="col-lg-2 control-label">Dirección Postal:</label>
        {{ form_errors(formulario.direccion) }}
        <div class="col-lg-5">
            {{ form_widget(formulario.direccion, { 'attr': { 'class': 'form-control' } }) }}
        </div>    
    </div>

    <div class="form-group">
        <label class="col-lg-2 control-label">Fecha de nacimiento:</label>
        {{ form_errors(formulario.fecha_nacimiento) }}
        <div class="col-lg-5">
            {{ form_widget(formulario.fecha_nacimiento) }}
            <p class="help-block">Debes tener más de 18 años para registrarte como cliente</p>
        </div>  
    </div>

    <div class="form-group">
        <label class="col-lg-2 control-label">Cédula de Identidad:</label>
        {{ form_errors(formulario.ci) }}
        <div class="col-lg-5">
            {{ form_widget(formulario.ci, { 'attr': { 'class': 'form-control col-xs-2' } }) }}
            <p class="help-block">Escribe las 8 cifras</p>
        </div>
    </div>

    <div class="form-group">
        {{ form_errors(formulario.permite_email) }}
        <div class="col-sm-offset-2 col-sm-10">
            <div class="checkbox">
                <label>
                    {{ form_widget(formulario.permite_email) }}
                    Me gustaría recibir el boletín de ofertas de Compras
                </label>
            </div>
        </div>
    </div>

    {{ form_rest(formulario) }}
    
    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            <button type="submit" class="btn btn-primary">Registrarme</button>
        </div>
    </div>
    </div>
</form>
{% endblock %}